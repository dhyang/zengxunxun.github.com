
<!DOCTYPE HTML>
<html lang="en">
<head>
    <title>zengxx'notes</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="author" content="zengxunxun" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script type="text/javascript">
        if(navigator.userAgent.indexOf("MSIE") != -1) {
            var version = navigator.userAgent.match(/MSIE ([\d.]+)/)[1];
            if(Math.round(version) < 9) {
                document.write("Not support IE " + Math.round(version) + ", Please change your browser.<br/><br/>");
                document.write("不支持 IE" + Math.round(version) + ", 请更换浏览器.");
                window.stop ? window.stop() : document.execCommand("Stop");
            }
        }
    </script>
    <link rel="shortcut icon" href="/atom.xml" />
	<link rel="alternate" href="/atom.xml" title="zengxx'notes" type="application/atom+xml">
    <link rel="stylesheet" href="//www.bootcss.com/assets/css/bootstrap.min.css?v2.3.1" type="text/css"/>
    <link rel="stylesheet" href="//www.bootcss.com/assets/css/bootstrap-responsive.min.css?v2.3.1" type="text/css"/>
    <link rel="stylesheet" href="//www.bootcss.com/assets/js/google-code-prettify/prettify.css" type="text/css"/>
    <link rel="stylesheet" href="/css/ui.totop.css" type="text/css" />
    <link rel="stylesheet" href="/css/docs.css" type="text/css">
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300" type="text/css" />
    <script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>

<body>
    <div class="container">
        <div id="header"><div class="row">
    <div class="offset2 span8">
        <p class="opensans huge fit-height">zengxx's notes</p>
        <blockquote>
            <p class="opensans large muted">Sweet mother of monkey milk, a gold coin!</p>
        </blockquote>
    </div>
</div>
</div>
        <div id="navigator"><div class="row">
    <div class="offset2 span8">
        <div class="navbar">
            <div class="navbar-inner">
                <ul class="nav">
                    <li><a href="/">Home</a></li>
                    <!--
                    <li><a href="/blog/archives">Archives</a></li>
                    -->
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown">Categories<b class="caret">&nbsp;</b></a> 
                        <ul class="dropdown-menu">
                            <li><a href='/blog/categories/c'>C</a></li>
<li><a href='/blog/categories/javascript'>JavaScript</a></li>
<li><a href='/blog/categories/linux'>Linux</a></li>
<li><a href='/blog/categories/note'>note</a></li>
<li><a href='/blog/categories/octopress'>Octopress</a></li>
<li><a href='/blog/categories/other'>other</a></li>
<li><a href='/blog/categories/ruby'>Ruby</a></li>
<li><a href='/blog/categories/shell'>Shell</a></li>
 
                            <li class="divider"></li>
                            <li class="nav-header">All(20)</li>
                        </ul>
                    </li>
                    <li><a href="/blog/tags" id="tags">Tags</a></li>
                    <!--
                    <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
                    -->
                    <li><a href="/blog/bookmarks">BookMarks</a></li>
                </ul>
                <ul class="nav pull-right">
                    <li class="divider-vertical"></li>
                    <li><a href="/blog/about">About</a></li>
                </ul>
            </div>
        </div>
    </div>
</div>

</div>
        <div id="content"><div class="row">
    <div class="offset3 span6">
        
        
        
        
<div class="excerpt">
    <div class="muted">












<div>Mar 15, 2013</div>
</div>
    <h3>
       
       <a href="/blog/2013/03/15/dbus/">
       
       dbus
       </a>
    </h3>
    <div>
        <p><a href="http://www.freedesktop.org/wiki/Software/dbus">dbus 官网</a></p>

<pre class="prettyprint linenums">
&lt;policy context="default"&gt;
  &lt;!-- Deny everything then punch holes --&gt;
  &lt;allow send_interface="*"/&gt;
  &lt;allow receive_interface="*"/&gt;
  &lt;allow own="*"/&gt;
  &lt;!-- But allow all users to connect --&gt;
  &lt;allow user="*"/&gt;
  &lt;!-- Allow anyone to talk to the message bus --&gt;
  &lt;allow send_destination="org.freedesktop.DBus"/&gt;
  &lt;allow receive_sender="org.freedesktop.DBus"/&gt;
  &lt;!-- valid replies are always allowed --&gt;
  &lt;allow send_requested_reply="true"/&gt;
  &lt;allow receive_requested_reply="true"/&gt;
&lt;/policy&gt; 
</pre>




<pre class="prettyprint linenums">
typedef struct DBusObjectPathVTable DBusObjectPathVTable;
struct DBusObjectPathVTable
{
    DBusObjectPathUnregisterFunction unregister_function; 
    DBusObjectPathMessageFunction message_function; 
    void (* dbus_internal_pad1) (void *); 
    void (* dbus_internal_pad2) (void *); 
    void (* dbus_internal_pad3) (void *); 
    void (* dbus_internal_pad4) (void *); 
};
</pre>


        
        
    </div>
    
    
</div>

        
        
        
<div class="excerpt">
    <div class="muted">












<div>Mar 15, 2013</div>
</div>
    <h3>
       
       <a href="/blog/2013/03/15/bash-color/">
       
       xterm colors
       </a>
    </h3>
    <div>
        <blockquote><p>The small bash script can display the terminal supported color. Use it in vim color plugin</p></blockquote>

<pre class="prettyprint linenums">
#!/bin/bash
for i in {0..255} ; do
    printf "\x1b[38;5;${i}mcolour${i}\n"
done
</pre>


<blockquote><p><a href="http://www.frexx.de/xterm-256-notes/data/colortable16.sh">More complex one</a></p></blockquote>


        
        <a href="/blog/2013/03/15/bash-color/">More&#8230;</a>
    </div>
    
    
</div>

        
        
        
<div class="excerpt">
    <div class="muted">












<div>Mar 14, 2013</div>
</div>
    <h3>
       
       <a href="/blog/2013/03/14/libapr-programming-tutorial/">
       
       Libapr Programming Tutorial
       </a>
    </h3>
    <div>
        <pre class="prettyprint linenums">
#include &lt;libapr/apr_general.h&gt;
#include &lt;libapr/apr_file_io.h&gt;
</pre>


<blockquote><p><a href="https://apr.apache.org/docs/apr/1.4/group__apr__file__io.html">open</a></p></blockquote>

<pre class="prettyprint linenums">
apr_status_t 
apr_file_open(
    apr_file_t **newf,  //result argument
    const char *fname,  //file name path
    apr_int32_t flag,   //open flag
    apr_fileperms_t perm,  //access permission
    apr_pool_t *pool   //memory pool to use
);
</pre>


<blockquote><p><a href="https://apr.apache.org/docs/apr/1.4/group__apr__file__io.html">read</a> / <a href="https://apr.apache.org/docs/apr/1.4/group__apr__file__io.html">write</a></p></blockquote>

<pre class="prettyprint linenums">
apr_status_t apr_file_read(
    apr_file_t *thefile, 
    void *buf, 
    apr_size_t *nbytes  //value-result argument
);
</pre>


<pre class="prettyprint linenums">
apr_status_t apr_file_write(
    apr_file_t *thefile, 
    void *buf, 
    apr_size_t *nbytes  //value-result argument
);
</pre>


<blockquote><p><a href="https://apr.apache.org/docs/apr/1.4/group__apr__file__io.html">close</a></p></blockquote>

<pre class="prettyprint linenums">
apr_status_t apr_file_close (apr_file_t *file)
apr_pool_destroy
</pre>




        
        
    </div>
    
    
</div>

        
        
        
<div class="excerpt">
    <div class="muted">












<div>Mar 14, 2013</div>
</div>
    <h3>
       
       <a href="/blog/2013/03/14/libapr/">
       
       Apache Portable Runtime Tutorial
       </a>
    </h3>
    <div>
        <ul>
<li><a href="http://dev.ariel-networks.com/apr/apr-tutorial/html/apr-tutorial.html">Libapr(Apache Portable Runtime) Programming Tutorial</a></li>
<li><a href="https://apr.apache.org/docs/apr/1.4/">Programmer&#8217;s Manual</a></li>
<li>In general, objects lifetime control is the most difficult part in programming. Thus, there are many other techniques for it, such as smart pointer, GC(garbage collection) and so on. Note that it is a bit hard to use such techniques at the same time. Since memory pool is one of such techniques, you have to be careful about the mixture.</li>
<li>Memory Pool (apr_pool_t) <a href="http://dev.ariel-networks.com/apr/apr-tutorial/sample/mp-sample.c">mp-sample.c</a></li>
</ul>


<pre class="prettyprint linenums">
apr_status_t apr_pool_initialize (void);
void apr_pool_terminate (void):w
void* apr_pcalloc (apr_pool_t *p, apr_size_t size)
void apr_pool_destroy (apr_pool_t *p)
</pre>


<ul>
<li>-D_LARGEFILE64_SOURCE fix <code>error: unknown type name 'off64_t'</code></li>
</ul>



        
        <a href="/blog/2013/03/14/libapr/">More&#8230;</a>
    </div>
    
    
</div>

        
        
        
<div class="excerpt">
    <div class="muted">












<div>Mar 11, 2013</div>
</div>
    <h3>
       
       <a href="/blog/2013/03/11/fork-a-daemon-process/">
       
       Fork a daemon process
       </a>
    </h3>
    <div>
        <ul>
<li>处理信号</li>
</ul>


<div><pre class="prettyprint linenums">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;
#include &lt;signal.h&gt;
#include &lt;unistd.h&gt;

static int keep_going = 1;

static void termination_handler(int signum) 
{
    fprintf(stderr,"SIGTERM received! exit!\n");
    keep_going = 0;
}

int main()
{
    struct sigaction act;
    act.sa_handler = termination_handler;
    sigemptyset(&amp;act.sa_mask);
    sigaction(SIGTERM, &amp;act, NULL);
    sigaction(SIGUSR1, &amp;act, NULL);
    fprintf(stderr, "%d\n", getpid());
    while(keep_going);
    fprintf(stderr, "exit");    
    return 0;
}
</pre></div>



        
        <a href="/blog/2013/03/11/fork-a-daemon-process/">More&#8230;</a>
    </div>
    
    
</div>

        
        
        
<div class="excerpt">
    <div class="muted">












<div>Mar 7, 2013</div>
</div>
    <h3>
       
       <a href="/blog/2013/03/07/git-pages/">
       
       Git Pages
       </a>
    </h3>
    <div>
        <blockquote><p>创建 <a href="https://github.com/">github pages</a></p></blockquote>

<pre class="prettyprint linenums">
mkdir demo.github.com
cd demo.github.com
touch README.md
echo "hello world" &gt; index.html
git init
git add .
git commit -a -m "first commit" git remote add origin git@github.com:demo/demo.github.com.git
git push origin master
</pre>



        
        <a href="/blog/2013/03/07/git-pages/">More&#8230;</a>
    </div>
    
    
</div>

        
    </div>
</div>
</div>
        <div id="footer"><div class="row">
    <p> Powered by <a href="http://octopress.org/" target="_blank">Octopress</a>&nbsp;&amp;&nbsp;<a href="http://twitter.github.com/bootstrap/" target="_blank">Bootstrap</a>, All Rights Shared </p>
</div>
<!--
<a href="https://github.com/zengxunxun"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub"></a>
-->

</div>
    </div>
    <script type="text/javascript" src="http://www.bootcss.com/assets/js/google-code-prettify/prettify.js"></script>
<script type="text/javascript" src="http://www.bootcss.com/assets/js/bootstrap.min.js?v2.3.1"></script>
<script type="text/javascript" src="/js/jquery.animate-shadow-min.js"></script>
<script type="text/javascript" src="/js/easing.js"></script>
<script type="text/javascript" src="/js/jquery.ui.totop.js"></script>
<script type="text/javascript" src="/js/jquery.tagcanvas.min.js"></script>
<script type="text/javascript" src="/js/jquery.hoveraccordion.min.js"></script>
<script type="text/javascript" src="/js/docs.js"></script>

</body>
</html>
